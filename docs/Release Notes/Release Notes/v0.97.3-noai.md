This release is based on previous release v0.97.2-noai, just code improvements on top of them

This is the first custom release, its not present in the upstream, tho i do intend to re-fork and submit a pr for the upstream to implement the major changes (wont pr this repo as its still gotten ai features removed)


Changes to networking:
- Implemented handling of unexpected disconnects, making trilium show a connection error toast until the connection is reestablished
- Should trilium reconnect, it will try to sync with the upstream, should there still be local changes that were not sent to the server, it will do so, as well as downloading and reloading any edited notes that were edited on the remote end (has conflict resolution, preferring the version of the document with latest changes)
- Added authentication checkers to server call error handling, should server calls fail an authentication check will be run, trying to reauthenticate automatically and resending the request should it succeed, otherwise ending the connection
- Whenever trilium reconnects, it will also perform session validation to make sure the session is still authenticated, and reauthenticating it if possible, otherwise failing with that the session expired and asking the user to refresh the application
- Trilium clients will now sync their javascript time to the server's time, so the time displayed on the trilium client will be correct even if the system time is not (does rely on the server using the correct system time, in desktop this has little effect)
- Added additional events to the websocket interface, so code outside of the ws class can bind to connect/reconnect (and additional connect handshakers)
- Added additional calls to view connection state (alongside a call that would create a "Server connection unavailable" toast thats used in ui binds to make sure the server is connected)
- Added a generic API function (/api/testconnection) thats used for periodic connection checks, and used during resync to verify the connection should it break during sync
- Added a generic API function (/api/auth/verify) thats used for minimal auth checks, which returns the session status without erroring should it be unauthenticated (which is when it sends false for the session status)
- Added a generic API function (/api/auth/reauthenticate) thats used for minimal automatic reauthentication during connection loss / session errors, this is largely unimplemented as i havent gotten to the session rewrite (i intend to replace the current sessions with jwt tokens to increase security)
- Added a generic API function (/api/protected/status) for minimal protected session status checks used during reconnect to sync protected session status
- Added a "close" websocket event, thats sent by the client when it closes the connection, mostly since there were some issues that led to the connection not actually closing in edge cases

Changes to the session system:
- Set a SameSite policy (set to strict) for the session token, improving security
- Made sure the cookie is updated alongside the session expiry whenever a request is made, to make sure remembered sessions dont actually get removed while they are still actively used
- Made sure the expiry tag for remembered sessions is actually updated, as until now it only updated expiry for non-remembered sessions
- Added additional expiry checks to session retrieval to avoid returning sessions slated for deletion

Changes to protected sessions:
- Fixed entering protected session not properly syncing to non-invoking clients (in the past, protected sessions while they would be entered, on any client that didnt invoke the command to enter it, would not update its UI)
- Added a connection poller for the server connector, so should the user not be sending any http requests directly, the server poller will occassionally poll the servers to keep the session alive, and to detect disconnects aside from websocket disconnects (note: the poller calling /api/testconnection only happens should there not have been any http activity in the past 5 seconds)

Changes to the toast system:
- Toasts can now specify colors, which is used in the toasts for disconnect/reconnect notification
- Available toast calls have been expanded to include the base toast call
- All toast calls now return the toast objects they create for further customization


Note while there is partial handling to prevent ui navigation while the connection is broken, its unfinished, so in the pr to the upstream ill leave most of it out.
